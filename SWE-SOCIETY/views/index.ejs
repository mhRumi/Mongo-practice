<%- include ('partials/nav.ejs') %>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />

    <title>SWE-SOCIETY,SUST</title>

    <!-- Main Stylesheet File -->
    <link href="/public/index/style.css" rel="stylesheet" />
    <!-- Latest compiled and minified CSS -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <!-- Libraries font Files -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>

  <body>
    <header id="head">
      <div class="container">
        <div class="headingtext">
          <img src="/public/image/logo1.png" width="350px" />
          <h4>SOFTWARE ENGINEERING SOCIETY<br /></h4>
          <h5>Software Engineering,</h5>
          <h5>
            Institute of Information and Communication Technology (IICT), SUST
          </h5>
        </div>
      </div>
    </header>
    <div class="jumbotron jumbotron-fluid">
      <div class="container">
        <h3>SWE SOCIETY</h3>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
          eiusmod tempor incididunt ut labore et dolore magna aliqua.
        </p>
      </div>
    </div>
    <section id="feature">
      <div class="container">
        <h5 class="titleh2">RECENT FEEDS</h5>
        <div class="row">
          <div class="col-md-3 col-sm-6 col-xs-12">
            <a class="nav-link" href="#">
              <div class="wrap-item text-center">
                <div class="item-img1">
                  <img src="/public/image/post_1.jpg" />
                </div>
                <h3 class="pad-bt15">1</h3>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                  do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                </p>
              </div>
            </a>
          </div>
          <div class="col-md-3 col-sm-6 col-xs-12">
            <a class="nav-link" href="#">
              <div class="wrap-item text-center">
                <div class="item-img1">
                  <img src="/public/image/post_2.jpg" />
                </div>
                <h3 class="pad-bt15">2</h3>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                  do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                </p>
              </div>
            </a>
          </div>
          <div class="col-md-3 col-sm-6 col-xs-12">
            <a class="nav-link" href="#">
              <div class="wrap-item text-center">
                <div class="item-img1">
                  <img src="/public/image/post_4.jpg" />
                </div>
                <h3 class="pad-bt15">3</h3>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                  do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                </p>
              </div>
            </a>
          </div>
          <div class="col-md-3 col-sm-6 col-xs-12">
            <a class="nav-link" href="#">
              <div class="wrap-item text-center">
                <div class="item-img1">
                  <img src="/public/image/post_5.jpg" />
                </div>
                <h3 class="pad-bt15">4</h3>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                  do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                </p>
              </div>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- <section class="section intro">
            <div class="container">
              <h3 style="color: white;">EVENTS</h3>
            </div>
          </section>
          
          <section class="timeline">
            <ol>
              <li>
                <div>
                  
                  <time>1 DEC</time>At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium
                  
                </div>
              </li>
              <li>
                <div>
                  <time>10 NOV</time>
                   Proin quam velit, efficitur vel neque vitae, rhoncus commodo mi. Suspendisse finibus mauris et bibendum molestie. Aenean ex augue, varius et pulvinar in, pretium non nisi.
                </div>
              </li>
              <li>
                <div>
                  <time>19 NOV</time>  Proin iaculis, nibh eget efficitur varius, libero tellus porta dolor, at pulvinar tortor ex eget ligula. Integer eu dapibus arcu, sit amet sollicitudin eros.
                </div>
              </li>
              <li>
                <div>
                  <time>12 OCT</time>  In mattis elit vitae odio posuere, nec maximus massa varius. Suspendisse varius volutpat mattis. Vestibulum id magna est.
                </div>
              </li>
              <li>
                <div>
                  <time>19 SEP</time>  In mattis elit vitae odio posuere, nec maximus massa varius. Suspendisse varius volutpat mattis. Vestibulum id magna est.
                </div>
              </li>
              <li>
                <div>
                  <time>16 MAR</time> In mattis elit vitae odio posuere, nec maximus massa varius. Suspendisse varius volutpat mattis. Vestibulum id magna est.
                </div>
              </li>
              <li>
                <div>
                  <time>19 FEB</time>  In mattis elit vitae odio posuere, nec maximus massa varius. Suspendisse varius volutpat mattis. Vestibulum id magna est.
                </div>
              </li>
              <li>
                <div>
                  <time>19 JAN</time> Aenean condimentum odio a bibendum rhoncus. Ut mauris felis, volutpat eget porta faucibus, euismod quis ante.
                </div>
              </li>
             
              
              <li></li>
            </ol>
            
            <div class="arrows" style="margin-inline-start: 200px;">
              <button class="arrow arrow__prev disabled" disabled>
                <img src="./image/1.png" alt="prev timeline arrow">
              </button>
              <button class="arrow arrow__next">
                <img src="./image/2.png" alt="next timeline arrow">
              </button>
            </div>
          </section>
          <script>(function() {

                // VARIABLES
                const timeline = document.querySelector(".timeline ol"),
                  elH = document.querySelectorAll(".timeline li > div"),
                  arrows = document.querySelectorAll(".timeline .arrows .arrow"),
                  arrowPrev = document.querySelector(".timeline .arrows .arrow__prev"),
                  arrowNext = document.querySelector(".timeline .arrows .arrow__next"),
                  firstItem = document.querySelector(".timeline li:first-child"),
                  lastItem = document.querySelector(".timeline li:last-child"),
                  xScrolling = 280,
                  disabledClass = "disabled";
              
                // START
                window.addEventListener("load", init);
              
                function init() {
                  setEqualHeights(elH);
                  animateTl(xScrolling, arrows, timeline);
                  setSwipeFn(timeline, arrowPrev, arrowNext);
                  setKeyboardFn(arrowPrev, arrowNext);
                }
              
                // SET EQUAL HEIGHTS
                function setEqualHeights(el) {
                  let counter = 0;
                  for (let i = 0; i < el.length; i++) {
                    const singleHeight = el[i].offsetHeight;
              
                    if (counter < singleHeight) {
                      counter = singleHeight;
                    }
                  }
              
                  for (let i = 0; i < el.length; i++) {
                    el[i].style.height = `${counter}px`;
                  }
                }
              
                // CHECK IF AN ELEMENT IS IN VIEWPORT
                
                function isElementInViewport(el) {
                  const rect = el.getBoundingClientRect();
                  return (
                    rect.top >= 0 &&
                    rect.left >= 0 &&
                    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                    rect.right <= (window.innerWidth || document.documentElement.clientWidth)
                  );
                }
              
                // SET STATE OF PREV/NEXT ARROWS
                function setBtnState(el, flag = true) {
                  if (flag) {
                    el.classList.add(disabledClass);
                  } else {
                    if (el.classList.contains(disabledClass)) {
                      el.classList.remove(disabledClass);
                    }
                    el.disabled = false;
                  }
                }
              
                // ANIMATE TIMELINE
                function animateTl(scrolling, el, tl) {
                  let counter = 0;
                  for (let i = 0; i < el.length; i++) {
                    el[i].addEventListener("click", function() {
                      if (!arrowPrev.disabled) {
                        arrowPrev.disabled = true;
                      }
                      if (!arrowNext.disabled) {
                        arrowNext.disabled = true;
                      }
                      const sign = (this.classList.contains("arrow__prev")) ? "" : "-";
                      if (counter === 0) {
                        tl.style.transform = `translateX(-${scrolling}px)`;
                      } else {
                        const tlStyle = getComputedStyle(tl);
                        // add more browser prefixes if needed here
                        const tlTransform = tlStyle.getPropertyValue("-webkit-transform") || tlStyle.getPropertyValue("transform");
                        const values = parseInt(tlTransform.split(",")[4]) + parseInt(`${sign}${scrolling}`);
                        tl.style.transform = `translateX(${values}px)`;
                      }
              
                      setTimeout(() => {
                        isElementInViewport(firstItem) ? setBtnState(arrowPrev) : setBtnState(arrowPrev, false);
                        isElementInViewport(lastItem) ? setBtnState(arrowNext) : setBtnState(arrowNext, false);
                      }, 1100);
              
                      counter++;
                    });
                  }
                }
              
                // ADD SWIPE SUPPORT FOR TOUCH DEVICES
                function setSwipeFn(tl, prev, next) {
                  const hammer = new Hammer(tl);
                  hammer.on("swipeleft", () => next.click());
                  hammer.on("swiperight", () => prev.click());
                }
              
                // ADD BASIC KEYBOARD FUNCTIONALITY
                function setKeyboardFn(prev, next) {
                  document.addEventListener("keydown", (e) => {
                    if ((e.which === 37) || (e.which === 39)) {
                      const timelineOfTop = timeline.offsetTop;
                      const y = window.pageYOffset;
                      if (timelineOfTop !== y) {
                        window.scrollTo(0, timelineOfTop);
                      }
                      if (e.which === 37) {
                        prev.click();
                      } else if (e.which === 39) {
                        next.click();
                      }
                    }
                  });
                }
              
              })();</script> -->

    <!------>
    <section class="section intro">
      <div class="container">
        <h3 style="color: white;">EVENTS</h3>
      </div>
    </section>
    <div class="timeline-carousel">
      <div
        class="timeline-carousel__item-wrapper"
        data-js="timeline-carousel">
      </div>
    </div>

    <!-- partial -->
    <script
      src="https://code.jquery.com/jquery-3.4.1.min.js"
      type="text/javascript">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.5.1/tabletop.min.js"></script>
    <script type="text/javascript">
      var publicSpreadsheetUrl = "1znAku0PXH31_0hH-z3b86DMBf_4jr7JBe4BDuuaDGTw";

      function init() {
        Tabletop.init({
          key: publicSpreadsheetUrl,
          callback: showInfo,
          simpleSheet: true
        });
      }

      function showInfo(data, tabletop) {
        /*alert('Successfully processed!')*/
        console.log(data);
        for (var i = 0; i < data.length; i++) {
          $(".timeline-carousel__item-wrapper").slick(
            "slickAdd",
            '<div class="timeline-carousel__item">' +
              '<div class="timeline-carousel__image">' +
              '<div class="media-wrapper media-wrapper--overlay" style="background: url(' +
              data[i].photo +
              ') center center; background-size:cover;"></div></div>' +
              '<div class="timeline-carousel__item-inner">' +
              '<span class="year">' +
              data[i].year +
              "</span>" +
              '<span class="month">' +
              data[i].month +
              "</span>" +
              "<p>" +
              data[i].caption +
              "</p>" +
              '<a href ="' +
              data[i].link +
              '" class="read-more">Read more</a></div></div>'
          );
        }
      }
      window.addEventListener("DOMContentLoaded", init);

      $(document).ready(function() {
        $(".timeline-carousel__item-wrapper").slick({
          slidesToShow: 2,
          slidesToScroll: 1,

          autoplaySpeed: 2000,
          arrows: true
        });
      });
    </script>
    <script>
      $.js = function(el) {
        return $("[data-js=" + el + "]");
      };

      function carousel() {
        $.js("timeline-carousel__item-wrapper").slick({
          //centerPadding: '60px',
          infinite: true,
          slidesToShow: 2,
          slidesToScroll: 2,
          dots: true,
          //speed: 500,
          //centerMode: true,
          //touchThreshold : 2,
          arrows: true
          /*autoplay: false,     
    responsive: [
      {
        breakpoint: 800,
        settings: {
		  
		  centerPadding:'40px',
          slidesToShow: 1,
          slidesToScroll: 1
        }
      },
	  {
	    breakpoint: 800,
		settings: {
			
			centerPadding:'40px'
		}
	  }
	  ]*/
        });
      }

      carousel();
    </script>

    <%- include ('partials/footer.ejs') %>
  </body>
</html>
